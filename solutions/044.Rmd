---
title: "Euler 44"
output: html_document
date: '2018-05-03'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

A pentagonal number is generated by the formula:

$$P_n = n(3n-1)/2$$ 

Find the pair of pentagonal numbers $P_j$ and $P_k$ where the sum $P_j + P_k$ _and_ $P_j - P_k$ is also pentagonal.
_And_ where $D = |P_j - P_k|$ is minimised.

The answer we're looking for is D.

First a function for generating pentagonal numbers:
```{r}
pent <- function(x){
  x*(3*x - 1)/2
}
```


Next a nice long list of pentagonal numbers:
```{r}
pent_numbers <- pent(1:10000)
```

Third: Generate the pair-wise combinations:
```{r}

library(tidyr)
pent_comb <- expand_grid(Var1 = pent_numbers, Var2 = pent_numbers)
```

Fifth: Filter on the criteria:
```{r}
library(dplyr)
answer <- pent_comb |> 
  filter(abs(Var1 - Var2) %in% pent_numbers) |> 
  filter((Var1 + Var2) %in% pent_numbers) |> 
  filter((Var1 - Var2) %in% pent_numbers) |> 
  summarise(answer = Var1 - Var2) 
```

A bit lucky that I chose a length of pentagonal numbers that actually included the result in the first attempt.