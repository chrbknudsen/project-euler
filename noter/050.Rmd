---
title: "Euler 50"
format: html
date: '2018-02-13'
---
997651
primtallet 41 kan skrives som summen af seks konsekutive primtal.
Det er den længeste sum af consekutive primtal der er et primtal - under 100.

Den længste sum af konsekutive primtal under 1000 der adderer til et 
primtal. indeholder 21 led, og summerer til 953

Hvilket primtal - under 1.000.000 kan skrives som summen af flest
på hinanden følgende primtal.


```{r}
library(numbers)
library(dplyr)
primes <- Primes(2, 1000000)

```


```{r}
library(slider)

hit <- function(n){slide_dbl(
  primes,
  .f = ~ sum(.x),
  .before = 0,  
  .after  = n,
  .complete = TRUE ) |> 
  (\(x) any(x %in% primes))()}

 





```

997651

Så. Hvis jeg begynder fra position 1 til length(primes) så er summen for
stor. 
1 til length(primes)-1
eller 2 til length(primes)



ok, det er virkelig ikke måden at gøre det på - også selvom det ville køre hurtigere på en anden computer en hindbærtærten.

Søgerummet kan begrænses ret voldsomt. 




de to sidste kan i sagens natur ikke lægges sammen.


det kan begrænses yderligere. For vi ved at svaret må være på mindst 21 led. Så de sidste 21 primtal summeret skal være mindre end 1 million.


```{r}
1000000/21
```

```{r}
prime_cand <- primes[primes < 48000] 
```

Og så er vi nede på under 5000 primtal.


```{r}
for(i in length(prime_cand):1){
    print(i)
    if(hit(i)){answer <- i
    break()}
    }

cand <-     slide_dbl(
  primes,
  .f = ~ sum(.x),
  .before = 0,  
  .after  = answer,
  .complete = TRUE )
cand[cand %in% Primes(1, 1000000)]

```


```{r}
hit(133)
```