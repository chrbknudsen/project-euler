---
title: "Euler 47"
format: html
date: '2018-02-11'
---

As an example. 14 and 15 are two consecutive numbers - with distinct primefactors.

As are 644, 645 and 646, just with three distinct primefactors:

$$
644 = 2^2 x 7 x 23
645 = 3 x 5 x 43
646 = 2 x 17 x 19
$$



14, 15 and 644,645,646 are the first sucst numbers, with respectively 2 and 3 distinct prime factors.

Find the first four consecutive numbers with four distinct primefactos. What is the first of these four numbers?


```{r}
library(numbers)
library(tidyverse)

```

```{r}
n_uniq_prim_fact <- function(x){
     sapply(lapply(lapply(x, primeFactors), unique), length)
}
```

```{r}
test <- n_uniq_prim_fact(1:250000)
```

Now we have a vektor with the number of unique prime factors. 

We can find the first instance of two consecutive numbers with 2 unique prime factors:


```{r}
library(slider)
n <- 2
slide_lgl(test, ~ all(.x == n), .before = 0, .after = n-1) |> 
  which() |> 
  first()
```


`slide_lgl` tests if all values of the input are equal to n, in a window containing the 
value, and the n-1 next consecutive values. `which` returns the positions where that is the 
case. And first returns the first of those values. 

We test further on n = 3:


```{r}
n <- 3
slide_lgl(test, ~ all(.x == n), .before = 0, .after = n-1) |> 
  which() |> 
  first()
```

Yep. And four:


```{r the_result, eval = FALSE}
n <- 4
slide_lgl(test, ~ all(.x == n), .before = 0, .after = n-1) |> 
  which() |> 
  first()
```